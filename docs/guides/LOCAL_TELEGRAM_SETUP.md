# üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Telegram

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –æ—Ç–∫—Ä—ã—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ.

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:
- ‚úÖ Frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:5174/`
- ‚úÖ Telegram –±–æ—Ç —Ç–æ–∫–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ö–æ–¥ –±–æ—Ç–∞ –≥–æ—Ç–æ–≤

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok

ngrok —Å–æ–∑–¥–∞—ë—Ç –ø—É–±–ª–∏—á–Ω—ã–π HTTPS-—Ç—É–Ω–Ω–µ–ª—å –∫ –≤–∞—à–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É.

**–ù–∞ macOS:**
```bash
brew install ngrok
```

**–ù–∞ –¥—Ä—É–≥–∏—Ö –û–°:**
–°–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok

–û—Ç–∫—Ä–æ–π—Ç–µ **–Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
ngrok http 5174
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Forwarding https://abc123.ngrok-free.app -> http://localhost:5174
```

**üìã –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok-free.app`)

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok URL –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è!

---

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:

```env
WEB_APP_URL=http://localhost:5174  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ ngrok URL –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ngrok
```

–ù–∞ –≤–∞—à ngrok URL:

```env
WEB_APP_URL=https://abc123.ngrok-free.app
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª!**

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ BotFather

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram** –∏ –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: `/mybots`
3. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞** –∏–∑ —Å–ø–∏—Å–∫–∞
4. –ù–∞–∂–º–∏—Ç–µ: **"Bot Settings"** ‚Üí **"Menu Button"** ‚Üí **"Configure menu button"**
5. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ ngrok URL**: `https://abc123.ngrok-free.app`
6. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏**: `–û—Ç–∫—Ä—ã—Ç—å App` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)

‚úÖ –ì–æ—Ç–æ–≤–æ! BotFather –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

---

### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd telegram_bot
pip install -r requirements.txt
```

–ò–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º virtual environment:

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ
source venv/bin/activate  # –Ω–∞ macOS/Linux
# –∏–ª–∏
venv\Scripts\activate  # –Ω–∞ Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

---

### –®–∞–≥ 6: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram –±–æ—Ç–∞

–í **–Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** (–∏–ª–∏ –≤ —Ç–æ–º –∂–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ virtual environment):

```bash
python telegram_bot/run_bot.py
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
==================================================
AI Image Generator Bot - Starting...
Web App URL: https://abc123.ngrok-free.app
==================================================
Starting bot polling...
```

‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!

---

### –®–∞–≥ 7: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram

1. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞** –≤ Telegram (–∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –Ω–µ–º—É –ø–æ —Å—Å—ã–ª–∫–µ `t.me/–≤–∞—à_–±–æ—Ç`)
2. –ù–∞–∂–º–∏—Ç–µ **"–°—Ç–∞—Ä—Ç"** –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üöÄ –û—Ç–∫—Ä—ã—Ç—å App"**
4. üéâ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ Telegram!**

---

## üîÑ –ß—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ —Å–µ–π—á–∞—Å:

–£ –≤–∞—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **3 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞**:

1. **Terminal 1:** Frontend (Vite)
   ```
   ‚ûú  Local:   http://localhost:5174/
   ```

2. **Terminal 2:** ngrok
   ```
   Forwarding https://abc123.ngrok-free.app -> http://localhost:5174
   ```

3. **Terminal 3:** Telegram Bot
   ```
   AI Image Generator Bot - Starting...
   ```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### üåê Telegram WebApp —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** ‚Äî –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ngrok (–æ–Ω –¥–∞—ë—Ç HTTPS)
- **–õ–æ–∫–∞–ª—å–Ω—ã–π localhost –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** —á–µ—Ä–µ–∑ Telegram (–ø–æ—ç—Ç–æ–º—É –Ω—É–∂–µ–Ω ngrok)

### üîÑ –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok:
–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ ngrok –∏ –ø–æ–ª—É—á–∏–ª–∏ –Ω–æ–≤—ã–π URL:
1. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª —Å –Ω–æ–≤—ã–º URL
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (`Ctrl+C` –∏ —Å–Ω–æ–≤–∞ `python telegram_bot/run_bot.py`)
3. ‚ö†Ô∏è **–û–±–Ω–æ–≤–∏—Ç–µ URL –≤ BotFather** (–ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –®–∞–≥ 4)

### üîß Troubleshooting:

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`python telegram_bot/run_bot.py`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `.env`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è / –ø—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5174
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ngrok –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ—Ä—Ç 5174
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –≤ `.env` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å ngrok URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –≤ BotFather —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å ngrok URL

**–ü—Ä–æ–±–ª–µ–º–∞:** "This site can't be reached"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ngrok –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ngrok URL (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS, –∞ –Ω–µ HTTP)

---

## üéØ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –í–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ ngrok (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ UI)

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ **–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**, –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost:5174/
```

‚ö†Ô∏è **–ù–æ:** Telegram WebApp SDK –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å –≤–Ω–µ Telegram!

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **Telegram Bot API:** https://core.telegram.org/bots/api
- **Telegram Web Apps:** https://core.telegram.org/bots/webapps
- **ngrok –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://ngrok.com/docs

---

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:

1. **Frontend:** `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å Vite
2. **ngrok:** `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å ngrok
3. **Bot:** `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –±–æ—Ç–æ–º

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram! üéâ
